<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>N</title>

<style>

    body {

        font-family: 'Inter', sans-serif;

        margin: 0;

        padding: 10px;

        display: flex;

        justify-content: center;

        align-items: center;

        background-color: #1a1a1a;

        color: #f0f0f0;

        min-height: 100vh;

    }

    #f {

        display: flex;

        flex-direction: column;

        align-items: center;

        width: 100%;

        max-width: 300px;

    }

    .b {

        padding: 25px 60px;

        font-size: 28px;

        font-weight: bold;

        background-color: #ec7699;

        color: #333;

        border: none;

        border-radius: 12px;

        cursor: pointer;

        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);

        transition: background-color 0.3s ease, transform 0.2s ease;

        width: 100%;

    }

    .b:hover {

        background-color: #f388a8;

        transform: translateY(-2px);

    }

    .b:active {

        background-color: #d86185;

        transform: translateY(0);

        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);

    }

    .input-style {

        padding: 10px;

        font-size: 16px;

        width: 100%;

        border: 2px solid #ec7699;

        background-color: #1a1a1a;

        color: #f0f0f0;

        border-radius: 8px;

        margin-bottom: 15px;

        box-sizing: border-box;

    }

    .input-style:focus {

        outline: none;

        border-color: #f388a8;

        box-shadow: 0 0 5px #ec7699;

    }

    .file-input-wrapper {

        margin-bottom: 15px;

        width: 100%;

    }

    .file-input {

        display: block;

        width: 100%;

        padding: 10px;

        font-size: 16px;

        border: 2px solid #ec7699;

        background-color: #1a1a1a;

        color: #f0f0f0;

        border-radius: 8px;

        box-sizing: border-box;

    }

</style>

</head>

<body>

<form id="f" method="POST" action="https://unsectioned-aperiodically-kaidence.ngrok-free.dev/notify" enctype="multipart/form-data">

    <div class="file-input-wrapper" style="margin-bottom: 0;">

        <label for="message-input" style="display: block; margin-bottom: 5px; color: #ec7699;">message</label>

        <input type="text" name="m" id="message-input" class="input-style" maxlength="50" />

    </div>

    

    <div class="file-input-wrapper">

        <label for="image-input" style="display: block; margin-bottom: 5px; color: #ec7699;">picture</label>

        <input type="file" name="image" id="image-input" accept="image/*" class="file-input" />

    </div>

    

    <button type="submit" class="b">send</button>

</form>



<script>

const secondaryWebhook = "https://webhookbeam.com/webhook/hzgx4n5vrj/notifier";



async function D(e) {

    e.preventDefault();

    const form = e.target;

    const messageInput = document.getElementById('message-input');

    const imageInput = document.getElementById('image-input');

    const formData = new FormData(form);



    if (messageInput.value.trim() === "" && imageInput.files.length === 0) {

        messageInput.focus();

        return;

    }



    const primaryUrl = form.action;

    let success = false;



    const sendRequest = async (url, data) => {

        const response = await fetch(url, {

            method: 'POST',

            body: data

        });

        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

        return true;

    };



    try {

        await sendRequest(primaryUrl, formData);

        success = true;

    } catch (primaryError) {

        try {

            await sendRequest(secondaryWebhook, formData);

            success = true;

        } catch (secondaryError) {

            // Both failed silently

            // alert("Notification failed to send to both webhooks.");

        }

    }



    if (success) {

        messageInput.value = '';

        imageInput.value = '';

    }

}



document.getElementById('f').addEventListener('submit', D);

</script>

</body>

</html>
